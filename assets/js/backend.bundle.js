/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./modules/backend.js":
/*!****************************!*\
  !*** ./modules/backend.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _inc_variables_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./inc/variables.js */ \"./modules/inc/variables.js\");\n/* harmony import */ var _inc_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./inc/options.js */ \"./modules/inc/options.js\");\n/* harmony import */ var _inc_inputs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./inc/inputs.js */ \"./modules/inc/inputs.js\");\n\n\n\n\nif (_inc_variables_js__WEBPACK_IMPORTED_MODULE_0__.variables.createForm) {\n    _inc_variables_js__WEBPACK_IMPORTED_MODULE_0__.variables.createForm.addEventListener('click', function () {\n        _inc_variables_js__WEBPACK_IMPORTED_MODULE_0__.variables.listWrapper.classList.add('d-none');\n        _inc_variables_js__WEBPACK_IMPORTED_MODULE_0__.variables.formNewWrapper.classList.remove('d-none');\n        _inc_variables_js__WEBPACK_IMPORTED_MODULE_0__.variables.formNewWrapper.classList.add('d-flex');\n    });\n}\n\nconst refreshForm = () => {\n    var data = {\n        'action': 'forms_refresh_forms'\n    };\n\n    jQuery.post(ajaxurl, data, function (response) {\n        jQuery(\".formList\").html(response);\n    });\n}\n\nconst editFormOptions = (ID) => {\n    data = {\n        'action': 'edit_form_options',\n        'formID': ID\n    }\n\n    $.post(ajaxurl, data, function (response) {\n        console.log(response);\n    });\n}\n\nconst showFormEntries = (element) => {\n    const id = jQuery(element).val();\n    const data = {\n        'action': 'forms_form_entries',\n        'formID': id\n    };\n\n    jQuery.post(ajaxurl, data, function (response) {\n        let parsedResponse = response;\n        if (parsedResponse && typeof parsedResponse === 'object') {\n            let parentDiv = document.querySelector('.formEntries');\n            let html = '';\n            Object.entries(parsedResponse).forEach(([key, value]) => {\n                if (typeof value === 'object') {\n                    Object.entries(value).forEach(([subKey, subValue]) => {\n                        html += '<div class=\"tertiaryBG p-2 m-2 rounded d-flex flex-column\">';\n                        if (subKey === 'entry_data') {\n                            try {\n                                subValue = JSON.parse(subValue);\n                            } catch (e) {\n                                console.error('Error parsing JSON:', e);\n                            }\n                            if (typeof subValue === 'object' && subValue !== null) {\n                                Object.entries(subValue).forEach(([k, v]) => {\n                                    html += `<strong>${k}:</strong> <span>${v}</span>`;\n                                });\n                            } else {\n                                html += `<strong>${subKey}:</strong> <span>${subValue}</span>`;\n                            }\n                        } else {\n                            html += `<strong>${key}.${subKey}:</strong> <span>${subValue}</span>`;\n                        }\n                        html += '</div>';\n                    });\n                } else {\n                    html += '<div>';\n                    html += `<strong>${key}:</strong> <span>${value}</span>`;\n                    html += '</div>';\n                }\n            });\n            parentDiv.innerHTML = html;\n        }\n    });\n}\n\nconst deleteForm = (id) => {\n\n    var data = {\n        'action': 'forms_delete_form',\n        'formID': id\n    };\n\n    jQuery.post(ajaxurl, data, function (response) {\n        refreshForm();\n    });\n}\n\nconst clearForm = () => {\n    jQuery(\".formWrapper\").addClass(\"d-none\");\n    jQuery('.formWrapper input').val('').attr('placeholder', '');\n    jQuery('.formData').html('');\n    jQuery(_inc_variables_js__WEBPACK_IMPORTED_MODULE_0__.variables.listWrapper).removeClass('d-none');\n};\n\njQuery(document).ready(function ($) {\n\n    // Adds available inputs to form\n    $(document).on('click', '.addInput', function () {\n\n        const formData = $(this).parents('.inputElements').siblings('.formData');\n\n        if ($(this).attr('data-type') === 'text') {\n            _inc_inputs_js__WEBPACK_IMPORTED_MODULE_2__.inputsViewModel.createInput(formData, 'text');\n        }\n        if ($(this).attr('data-type') === 'price') {\n            if ($(this).parents('.inputElements').siblings('.formData').find('input[input-price]').length == 0) {\n                _inc_inputs_js__WEBPACK_IMPORTED_MODULE_2__.inputsViewModel.createInput(formData, 'price');\n            }\n        }\n        if ($(this).attr('data-type') === 'email') {\n            _inc_inputs_js__WEBPACK_IMPORTED_MODULE_2__.inputsViewModel.createInput(formData, 'email');\n        }\n\n        if ($(this).attr('data-type') === 'phone') {\n            _inc_inputs_js__WEBPACK_IMPORTED_MODULE_2__.inputsViewModel.createInput(formData, 'phone');\n        }\n    });\n\n    // Opens options for input\n    $(document).on('click', '.formData input', function () {\n\n        // Gets .inputOptions closest to the clicked element\n        const parentElement = $(this).parents('.formData').siblings('.inputElements').find('.inputOptions');\n\n        // Gets input ID and options ID\n        var inputID = $(this).attr('id');\n        var optionsID = $(parentElement).attr('data-edit-input');\n\n        // Checks if inputID is not equal to optionsID and sets new optionsID from inputID if not\n        if (inputID != optionsID) {\n            $(parentElement).attr('data-edit-input', inputID);\n            $(parentElement).html('');\n        }\n\n        // Price input options\n        if ($(this).is('[input-price]')) {\n\n            if (inputID != optionsID) {\n\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'placeholder');\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'label');\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'price');\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'deleteInput');\n\n            }\n\n        }\n\n        // E-mail input options\n        if ($(this).is('[input-email]')) {\n\n            if (inputID != optionsID) {\n\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'placeholder');\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'label');\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'value');\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'deleteInput');\n\n            }\n\n        }\n\n        // Text input options\n        if ($(this).is('[input-text]')) {\n\n            if (inputID != optionsID) {\n\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'placeholder');\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'label');\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'value');\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'deleteInput');\n\n            }\n\n        }\n\n        // Phone input options\n        if ($(this).is('[input-phone]')) {\n\n            if (inputID != optionsID) {\n\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'placeholder');\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'label');\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'value');\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.createInput(parentElement, 'deleteInput');\n\n            }\n\n        }\n\n        // Removes d-none class from inputOptions and adds d-flex class if inputOptions has d-none class\n        if ($(_inc_variables_js__WEBPACK_IMPORTED_MODULE_0__.variables.inputOptions).hasClass('d-none')) {\n            $(this).parents('.formData').siblings('.inputElements').find('.inputOptions').removeClass('d-none');\n            $(this).parents('.formData').siblings('.inputElements').find('.inputOptions').addClass('d-flex');\n        }\n\n        // Sets options values to input values\n        _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.options.forEach(option => {\n            jQuery(document).on('input', '.inputOption', function () {\n                _inc_options_js__WEBPACK_IMPORTED_MODULE_1__.optionsViewModel.setInputValue(this)\n            });\n        });\n\n    });\n\n    // Saves new form and refreshes form list\n    $(document).on('click', '.saveFormButton', function () {\n        let formID;\n        let price;\n\n        const inputPrice = $(this).closest('div').prev('div').find('input[input-price]');\n        const hasPrice = inputPrice.length;\n\n        if ($(this).parents('.formEditWrapper').length > 0) {\n            formID = $(this).parents('.formEditWrapper').attr('id');\n        }\n\n        if (hasPrice > 0) {\n            price = $(inputPrice).attr('value');\n        }\n\n        var data = {\n            'action': 'forms_save_data',\n            'formID': formID,\n            'formTitle': $(this).parents('.formButtonWrapper').siblings('.formTitle').find('.formTitleInput').val(),\n            'formData': $(this).parents('.formButtonWrapper').siblings('.formContainer').find('.formData').html(),\n            'formPrice': price\n        };\n\n        $.post(ajaxurl, data, function (response) {\n            refreshForm();\n            $('.formWrapper').addClass('d-none');\n            $('.listWrapper').removeClass('d-none');\n        });\n    });\n\n    // Retrieves and outputs form to be edited\n    $(document).on('click', '.editFormButton', function () {\n        _inc_variables_js__WEBPACK_IMPORTED_MODULE_0__.variables.listWrapper.classList.add('d-none');\n\n        const formID = $(this).parents('.formItem').attr('id');\n\n        var data = {\n            'action': 'forms_edit_form',\n            'formID': formID\n        };\n\n        $.post(ajaxurl, data, function (response) {\n            _inc_variables_js__WEBPACK_IMPORTED_MODULE_0__.variables.bosWrapper.insertAdjacentHTML('beforeend', response);\n        });\n    });\n\n    // Closes input options on document click\n    $(document).click(function (event) {\n        if (!$(event.target).closest('.inputOptions').length && !$(event.target).closest('.formData input').length) {\n            $('.inputOptions').removeClass('d-flex');\n            $('.inputOptions').addClass('d-none');\n        }\n    });\n\n});\n\nwindow.showFormEntries = showFormEntries\nwindow.editFormOptions = editFormOptions\nwindow.clearForm = clearForm\nwindow.deleteForm = deleteForm\n\n//# sourceURL=webpack://Form-builder/./modules/backend.js?");

/***/ }),

/***/ "./modules/inc/inputs.js":
/*!*******************************!*\
  !*** ./modules/inc/inputs.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   inputsViewModel: () => (/* binding */ inputsViewModel)\n/* harmony export */ });\nconst inputs = [\n    {\n        type: 'text',\n        html: function () {\n            let randomNumber = Math.floor(1000 + Math.random() * 9000);\n            let div = document.createElement('div');\n            div.className = 'form-control d-flex flex-column';\n            let label = document.createElement('label');\n            label.setAttribute('for', 'input-' + randomNumber);\n            label.textContent = 'Input text';\n            let input = document.createElement('input');\n            input.id = 'input-' + randomNumber;\n            input.type = 'text';\n            input.name = 'name';\n            input.setAttribute('input-text', '');\n            div.appendChild(label);\n            div.appendChild(input);\n            return div.outerHTML;\n        }\n    },\n    {\n        type: 'price',\n        html: function () {\n            let randomNumber = Math.floor(1000 + Math.random() * 9000);\n            let div = document.createElement('div');\n            div.className = 'form-control d-flex flex-column';\n            let label = document.createElement('label');\n            label.setAttribute('for', 'input-' + randomNumber);\n            label.textContent = 'Price amount';\n            let input = document.createElement('input');\n            input.id = 'input-' + randomNumber;\n            input.type = 'number';\n            input.name = 'price';\n            input.setAttribute('input-price', ''); // Set custom attribute\n            div.appendChild(label);\n            div.appendChild(input);\n            return div.outerHTML;\n        }\n    },\n    {\n        type: 'email',\n        html: function () {\n            let randomNumber = Math.floor(1000 + Math.random() * 9000);\n            let div = document.createElement('div');\n            div.className = 'form-control d-flex flex-column';\n            let label = document.createElement('label');\n            label.setAttribute('for', 'input-' + randomNumber);\n            label.textContent = 'E-mail';\n            let input = document.createElement('input');\n            input.id = 'input-' + randomNumber;\n            input.type = 'email';\n            input.name = 'email';\n            input.setAttribute('input-email', ''); // Set custom attribute\n            div.appendChild(label);\n            div.appendChild(input);\n            return div.outerHTML;\n        }\n    },\n    {\n        type: 'phone',\n        html: function () {\n            let randomNumber = Math.floor(1000 + Math.random() * 9000);\n            let div = document.createElement('div');\n            div.className = 'form-control d-flex flex-column';\n            let label = document.createElement('label');\n            label.setAttribute('for', 'input-' + randomNumber);\n            label.textContent = 'Phone';\n            let input = document.createElement('input');\n            input.id = 'input-' + randomNumber;\n            input.type = 'tel';\n            input.name = 'phone';\n            input.setAttribute('input-phone', ''); // Set custom attribute\n            div.appendChild(label);\n            div.appendChild(input);\n            return div.outerHTML;\n        }\n    },\n    {\n        type: 'password',\n        html: function () {\n            let input = document.createElement('input');\n            input.type = 'password';\n            input.name = 'myplugin_password';\n            return input.outerHTML;\n        }\n    },\n    {\n        type: 'textarea',\n        html: function () {\n            let textarea = document.createElement('textarea');\n            textarea.name = 'myplugin_textarea';\n            return textarea.outerHTML;\n        }\n    }\n];\n\nconst createInput = (parentElement, name) => {\n    const input = inputs.find(input => input.type === name);\n    jQuery(parentElement).append(input.html);\n}\n\nconst inputsViewModel = {\n    inputs,\n    createInput\n};\n\n//# sourceURL=webpack://Form-builder/./modules/inc/inputs.js?");

/***/ }),

/***/ "./modules/inc/options.js":
/*!********************************!*\
  !*** ./modules/inc/options.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   optionsViewModel: () => (/* binding */ optionsViewModel)\n/* harmony export */ });\nconst options = [\n    {\n        name: 'placeholder',\n        value: function () {\n            let input = document.createElement('input');\n            input.className = 'inputPlaceholderOption inputOption w-100';\n            input.type = 'text';\n            input.name = 'inputPlaceholder';\n            input.placeholder = 'Input placeholder';\n            return input;\n        }\n    },\n    {\n        name: 'label',\n        value: function () {\n            let input = document.createElement('input');\n            input.className = 'labelOption inputOption w-100';\n            input.type = 'text';\n            input.name = 'inputLabel';\n            input.placeholder = 'Input label';\n            return input;\n        }\n    },\n    {\n        name: 'value',\n        value: function () {\n            let input = document.createElement('input');\n            input.className = 'inputValue inputOption w-100';\n            input.type = 'text';\n            input.name = 'inputValue';\n            input.placeholder = 'Default value';\n            return input;\n        }\n    },\n    {\n        name: 'price',\n        value: function () {\n            let input = document.createElement('input');\n            input.className = 'inputPriceAmount inputOption w-100';\n            input.type = 'number';\n            input.name = 'inputPrice';\n            input.placeholder = 'Price amount';\n            return input;\n        }\n    },\n    {\n        name: 'deleteInput',\n        value: function () {\n            let button = document.createElement('button');\n            button.className = 'deleteInput inputOption w-100';\n            button.innerHTML = 'Delete input';\n            button.addEventListener('click', deleteInput);\n            return button;\n        }\n    }\n];\n\nconst setInputValue = (option) => {\n\n    if (option) {\n\n        if (option.name === 'inputValue') {\n\n            const value = jQuery(option).val();\n            \n            const targetID = jQuery(option).closest('.inputOptions').attr('data-edit-input');\n            jQuery(\"#\" + targetID).attr(\"value\", value);\n\n        }\n\n        if (option.name === 'inputPlaceholder') {\n\n            let value = jQuery(option).val();\n            let targetID = jQuery(option).closest('.inputOptions').attr('data-edit-input');\n\n            jQuery(\"#\" + targetID).attr('placeholder', value);\n\n        }\n\n        if (option.name === 'inputPrice') {\n\n            const value = jQuery(option).val();\n            const targetID = jQuery(option).closest('.inputOptions').attr('data-edit-input');\n            jQuery(\"#\" + targetID).attr(\"value\", value);\n        }\n\n        if (option.name === 'inputLabel') {\n\n            const value = jQuery(option).val();\n            const targetID = jQuery(option).closest('.inputOptions').attr('data-edit-input');\n            jQuery(\"#\" + targetID).siblings('label').html(value);\n\n        }\n\n    }\n\n}\n\nconst createInput = (parentElement, name)  => {\n    const option = options.find(option => option.name === name);\n    jQuery(parentElement).prepend(option.value);\n}\n\nconst deleteInput = (event) => {\n    const id = jQuery(event.target).closest('.inputOptions').attr('data-edit-input');\n    jQuery('#' + id).closest('.form-control').remove();\n}\n\nconst optionsViewModel = {\n    options,\n    createInput,\n    deleteInput,\n    setInputValue\n};\n\n//# sourceURL=webpack://Form-builder/./modules/inc/options.js?");

/***/ }),

/***/ "./modules/inc/variables.js":
/*!**********************************!*\
  !*** ./modules/inc/variables.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   variables: () => (/* binding */ variables)\n/* harmony export */ });\nfunction selectElements(selectors) {\n    return selectors.reduce((acc, selector) => {\n      acc[selector] = document.querySelector(`.${selector}`);\n      return acc;\n    }, {});\n  }\n  \n  const variables = selectElements([\n    'bosWrapper',\n    'listWrapper',\n    'formWrapper',\n    'formNewWrapper',\n    'formData',\n    'addText',\n    'createForm',\n    'formTitle',\n    'editFormButton',\n    'saveEditFormButton',\n    'inputOptions',\n    'inputOptionsSaveBtn',\n    'inputPlaceHolderOption',\n  ]);\n\n//# sourceURL=webpack://Form-builder/./modules/inc/variables.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./modules/backend.js");
/******/ 	
/******/ })()
;